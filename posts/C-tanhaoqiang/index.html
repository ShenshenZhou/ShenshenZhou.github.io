<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="天前"><meta name="hour-prompt" content="小时前"><meta name="minute-prompt" content="分钟前"><meta name="justnow-prompt" content="刚刚"><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="C语言谭浩强笔记" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="Chapter1 程序设计和 C 语言" /><meta property="og:description" content="Chapter1 程序设计和 C 语言" /><link rel="canonical" href="https://shenshenzhou.github.io/posts/C-tanhaoqiang/" /><meta property="og:url" content="https://shenshenzhou.github.io/posts/C-tanhaoqiang/" /><meta property="og:site_name" content="ShenshenZhou" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-11-26T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="C语言谭浩强笔记" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="EbIRAK-yj0lEMVk1uQwtW66urJnY8yfKtT112zfnTfA" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-27T14:18:02+08:00","datePublished":"2021-11-26T00:00:00+08:00","description":"Chapter1 程序设计和 C 语言","headline":"C语言谭浩强笔记","mainEntityOfPage":{"@type":"WebPage","@id":"https://shenshenzhou.github.io/posts/C-tanhaoqiang/"},"url":"https://shenshenzhou.github.io/posts/C-tanhaoqiang/"}</script><title>C语言谭浩强笔记 | ShenshenZhou</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="ShenshenZhou"><meta name="application-name" content="ShenshenZhou"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://fastly.jsdelivr.net"><link rel="dns-prefetch" href="https://fastly.jsdelivr.net"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://fastly.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="zh-CN"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">ShenshenZhou</a></div><div class="site-subtitle font-italic">好好学习 天天向上</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/ShenshenZhou" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['15797870468','163.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-5" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>C语言谭浩强笔记</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>C语言谭浩强笔记</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> ShenshenZhou </span> 发表于 <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="2021-11-26, 00:00 +0800" >2021-11-26<i class="unloaded">2021-11-26T00:00:00+08:00</i> </span></div><div> <span> 更新于 <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="2022-03-27, 14:18 +0800" >2022-03-27<i class="unloaded">2022-03-27T14:18:02+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="6071 字">33 分钟 阅读</span></div></div><div class="post-content"><h1 id="chapter1-程序设计和-c-语言">Chapter1 程序设计和 C 语言</h1><h2 id="计算机程序">计算机程序</h2><h2 id="计算机语言">计算机语言</h2><ul><li><p>机器语言</p><li><p>汇编语言</p><li><p>高级语言</p></ul><h2 id="c语言的发展及特点">C语言的发展及特点</h2><p>C语言的特点：</p><ul><li>语言简洁紧凑，使用方便灵活<li>运算符丰富<li>数据类型丰富<li>具有结构化的控制语句<li>语法限制不严格，程序设计自由度大<li>可以对底层硬件进行操作<li>用C语言写的程序可移植性好<li>代码质量高，执行效率高</ul><h2 id="最简单的c语言程序"><strong>最简单的C语言程序</strong></h2><p><strong>C语言程序的结构：</strong></p><ul><li>一个程序由一个或多个源程序文件组成：预处理指令、全局声明、函数定义等。<li>函数是C语言的主要组成部分：包括函数首部和函数体。</ul><p><strong>运行C程序的步骤和方法</strong></p><ul><li>输入和编辑源程序<li>编译源程序<li>连接处理<li>运行程序</ul><h2 id="程序执行的任务"><strong>程序执行的任务</strong></h2><ul><li>问题分析<li>设计算法<li>编写程序<li>编辑、编译和连接程序<li>运行程序，分析结果<li>编写程序文档</ul><h1 id="charpter2-算法程序的灵魂">Charpter2 算法——程序的灵魂</h1><h2 id="算法"><strong>算法</strong></h2><p>一个程序主要包括两方面的信息：</p><ul><li>对数据的描述。要用到哪些数据以及数据的类型和组织形式即数据结构。<li>对操作的描述。要求计算机进行操作的步骤即算法。</ul><p>算法 + 数据结构 = 程序</p><p>计算机算法可分为两大类别：数值运算和非数值运算算法。</p><h2 id="算法的特性">算法的特性</h2><ul><li>有穷性。即有限的操作步骤。<li>确定性。步骤明确。<li>有零个或多个输入。<li>有一个或多个输出。<li>有效性。</ul><h2 id="怎样表示一个算法">怎样表示一个算法</h2><ul><li>自然语言。文字描述通俗易懂但冗长且容易出现歧义。<li>流程图。顺序结构、分支结构、循环结构。<li>N-S流程图。删除了流程线和箭头。<li>伪代码表示。<li>计算机语言表示。</ul><h2 id="结构化程序设计方法">结构化程序设计方法</h2><p>机构化程序设计方法的思路是：把一个复杂问题的求解过程分阶段进行，每个阶段处理的问题控制在人们容易理解和处理的范围内。具体有一下方法：</p><ul><li>自顶而下<li>逐步细化<li>模块化设计<li>结构化编码</ul><p><strong>自顶而下，逐步细化</strong>：考虑周全，结构清晰，层次分明，用工程的方法设计程序。</p><p><strong>自下而上，逐步积累</strong>：适合用于施工阶段。</p><p><strong>模块化设计</strong>：要注意模块的独立性，即使用一个模块完成一项功能，耦合性越少越好。</p><h1 id="chapter3-顺序结构设计">chapter3 顺序结构设计</h1><h2 id="设计举例">设计举例</h2><h2 id="数据的表现形式及其运算">数据的表现形式及其运算</h2><h3 id="常量和变量">常量和变量</h3><h4 id="常量">常量</h4><ul><li>整型常量<li>实型常量：十进制小数形式、指数形式<li>字符常量：普通字符、转义字符<li>字符串常量：单<code class="language-plaintext highlighter-rouge">''</code>只能包含一个字符，<code class="language-plaintext highlighter-rouge">""</code>可以包含一个字符串<li>符号常量：用<code class="language-plaintext highlighter-rouge">#define</code>指令，指定用一个符号名称代表一个变量</ul><h4 id="变量">变量</h4><p>变量必须先定义，后使用，在定义时指定变量的名字和类型</p><h4 id="常变量">常变量</h4><p><code class="language-plaintext highlighter-rouge">const int a = 3;</code>常变量是有名字的不变量，而常量是没有名字的不变量，有名字就便于在程序中引用</p><h4 id="标识符">标识符</h4><p>C语言规定边师傅只能有字母、数字、下划线组成，且第一个标识符不能是数字</p><h3 id="数据类型">数据类型</h3><p>有基本类型（整型和浮点型）、枚举类型<code class="language-plaintext highlighter-rouge">enum</code>、空类型<code class="language-plaintext highlighter-rouge">void</code>、派生类型，不同类型的数据在内存中占用的存储单元长度是不同的</p><h3 id="整型数据">整型数据</h3><p>补码：将此数的绝对值写成二进制形式，然后对后面所有的二进位取反再加1</p><p>有基本整型<code class="language-plaintext highlighter-rouge">int</code>、短整型<code class="language-plaintext highlighter-rouge">short int</code>、长整型<code class="language-plaintext highlighter-rouge">long int</code>、双长整型<code class="language-plaintext highlighter-rouge">long long int </code></p><p><code class="language-plaintext highlighter-rouge">sizeof</code>是测量类型和变量长度的运算符</p><p>在类型前面加上修饰符<code class="language-plaintext highlighter-rouge">unsigned</code>，表示指定该变量为无符号整数类型，只有正值，不能赋予负值，用<code class="language-plaintext highlighter-rouge">%u</code>格式输出</p><h3 id="字符型数据">字符型数据</h3><p>字符变量用类型复<code class="language-plaintext highlighter-rouge">char</code>来定义，用<code class="language-plaintext highlighter-rouge">%c</code>格式输出</p><h3 id="浮点型数据">浮点型数据</h3><p><code class="language-plaintext highlighter-rouge">float</code> 型、<code class="language-plaintext highlighter-rouge">double</code>型、<code class="language-plaintext highlighter-rouge">long double</code>型，用<code class="language-plaintext highlighter-rouge">%f</code>、<code class="language-plaintext highlighter-rouge">%lf</code>格式输出</p><h3 id="运算符和表达式">运算符和表达式</h3><p><code class="language-plaintext highlighter-rouge">%</code>取余，要求运算对象为整数，结果也为整数</p><p>自增自减运算符只能用于变量，不能用于常量和表达式</p><p>一个字符既可以以字符形式输出（在0-127范围内）、也可以以整数形式输出</p><p>强制类型转换运算符，<code class="language-plaintext highlighter-rouge">(int)(x+y)</code>，（类型名）（表达式）</p><h2 id="c语句">C语句</h2><h3 id="c语句的作用和分类">C语句的作用和分类</h3><p>控制语句：<code class="language-plaintext highlighter-rouge">if else\for\while\do while\continue\break\switch\return\goto</code></p><p>函数调用语句：一个函数调用加一个分号组成</p><p>表达式语句：一个表达式加一个分号组成</p><p>空语句：单独一个分号，作为流程的转换点或者空循环体</p><p>复合语句：用{}把一些语句括起来</p><h3 id="幅值语句">幅值语句</h3><p>变量能够作为左值，常量、算数表达式、赋值表达式不能作为左值</p><h2 id="数据的输入输出">数据的输入输出</h2><h3 id="print函数输出数据"><code class="language-plaintext highlighter-rouge">print</code>函数输出数据</h3><p><code class="language-plaintext highlighter-rouge">print(格式控制，输出表列)</code></p><p>格式控制：格式声明（%和格式字符组成）、普通字符</p><p>输出表列：可以使常量、变量、表达式</p><p>格式字符：<code class="language-plaintext highlighter-rouge">%d %f %m.nf %lf %c %s %e %m.ne %o %x %u...</code></p><p>如果想要输出%，要用连续的两个%%表示</p><h3 id="scanf函数输入数据"><code class="language-plaintext highlighter-rouge">scanf</code>函数输入数据</h3><p><code class="language-plaintext highlighter-rouge">scanf(格式控制，地址表列)</code></p><p>如果在格式控制字符串中除了格式声明以外还有其他字符，则在输入数据时在对应的位置上应输入与这些字符相同的字符。</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">scanf</span><span class="p">(</span><span class="s">"%a=f,b=%f,c=%f"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span><span class="o">&amp;</span><span class="n">b</span><span class="p">,</span><span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
</pre></table></code></div></div><p>应该输入：<code class="language-plaintext highlighter-rouge">a=1,b=3,c=2回车</code></p><h3 id="字符数据的输入输出">字符数据的输入输出</h3><p><code class="language-plaintext highlighter-rouge">putchar(c)</code>表示输入字符变量c的值，是一个字符</p><p><code class="language-plaintext highlighter-rouge">getchar()</code>只能接受一个字符，想要输入多个字符就要用到多个<code class="language-plaintext highlighter-rouge">getchar</code>函数</p><h1 id="chapter4-选择结构程序设计">Chapter4 选择结构程序设计</h1><h2 id="选择结构">选择结构</h2><p>C语言有两种选择语句：</p><ul><li>if语句，用来实现两个分支的选择机构<li>switch语句，用来实现多分支的选择语句</ul><h2 id="if语句">if语句</h2><p>if（表达式1）语句1</p><p>else if（表达式2）语句2</p><p>else（表达式3）语句3</p><p>if语句的表达式可以是关系表达式、逻辑表达式和数值表达式</p><h2 id="关系运算符和关系表达式">关系运算符和关系表达式</h2><h2 id="逻辑运算符和逻辑表达式">逻辑运算符和逻辑表达式</h2><p>优先级为：非&gt;算数运算符&gt;关系运算符&gt;与和或&gt;幅值运算符</p><h2 id="条件运算符和条件表达式">条件运算符和条件表达式</h2><p>表达式1？表达式2：表达式3 唯一的三目运算符，可以嵌套</p><h2 id="switch">switch</h2><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">switch</span><span class="p">(</span><span class="err">表达式</span><span class="p">)</span>
<span class="p">{</span>
<span class="k">case</span> <span class="err">常量</span><span class="mi">1</span><span class="err">：语句</span><span class="mi">1</span><span class="err">；</span><span class="k">break</span><span class="p">;</span>
<span class="k">case</span> <span class="err">常量</span><span class="mi">2</span><span class="err">：语句</span><span class="mi">2</span><span class="err">；</span><span class="k">break</span><span class="p">;</span>
<span class="nl">default:</span> <span class="err">语句</span><span class="n">n</span><span class="p">;</span>
<span class="err">}</span>
<span class="err">说明：</span>
</pre></table></code></div></div><h1 id="chapter5-循环结构程序设计">Chapter5 循环结构程序设计</h1><h2 id="while循环">while循环</h2><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">while</span><span class="p">(</span><span class="err">表达式</span><span class="p">)</span>
<span class="p">{</span>
    <span class="err">语句；</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="do-while循环">do-while循环</h2><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">do</span>
<span class="p">{</span>
    <span class="err">语句；</span>
<span class="p">}</span><span class="k">while</span><span class="err">（表达式）；</span>
</pre></table></code></div></div><h2 id="for循环">for循环</h2><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="p">(</span><span class="err">循环变量赋初值；循环条件；循环变量增值</span><span class="p">)</span>
<span class="p">{</span>
    <span class="err">语句；</span>
<span class="p">}</span>
</pre></table></code></div></div><p>for语句循环功能强大，有些需要注意的点：</p><ul><li>表达式1和表达式3可以是简单的表达式，也可以是逗号表达式，在逗号表达式内按自左向右顺序求解，逗号表达式的值为最右边的表达式的值</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">100</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="n">sum</span><span class="o">=</span><span class="n">sum</span><span class="o">+</span><span class="n">i</span>
<span class="k">for</span><span class="err">（</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">100</span><span class="p">;</span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="err">）</span><span class="n">sum</span><span class="o">=</span><span class="n">sum</span><span class="o">+</span><span class="n">i</span>
</pre></table></code></div></div><ul><li>表达式2一般为关系表达式或者是逻辑表达式，但也可以是数值表达式或字符表达式，只要其值为非零，就可以执行循环体</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">for</span><span class="p">(;(</span><span class="n">c</span><span class="o">=</span><span class="n">getchar</span><span class="p">())</span><span class="o">!=</span><span class="sc">'\n'</span><span class="p">;)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%c"</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
</pre></table></code></div></div><p>上面代码的意思是每读入一个字符就输出一个字符，知道输入一个换行字符为止</p><h2 id="改变循环执行的状态">改变循环执行的状态</h2><p><code class="language-plaintext highlighter-rouge">break</code>用来跳出循环体，即提前结束循环</p><p><code class="language-plaintext highlighter-rouge">continue</code>用来提前结束本次循环，接着执行下次循环</p><h1 id="chapter6-数组处理批量数据">Chapter6 数组处理批量数据</h1><p>数组是一组有序数据的组合</p><p>用一个数组名和下标来唯一确定数组中的元素</p><p>数组中的每个元素都属于统一类型</p><p>将数组和循环结合起来，可以有效处理大量的数据</p><h2 id="定义和引用数组">定义和引用数组</h2><p><strong>定义数组：</strong>类型符 数组名【常量表达式】</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></table></code></div></div><ul><li>数组名遵循标识符命名规则<li>数组下标从0开始<li>常量表达式可以是常量或者符号常量，但是不允许做动态定义<li>如果在被调用的函数中定义数组，其长度可以是变量或非常量表达式，因为n的值会从实参传来</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">function</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">];</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>引用数组:</strong>数组名【下标】</p><p><strong>一维数组的初始化：</strong>定义数组的同时可以给数组元素赋值</p><ul><li>对全部元素赋值</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">};</span>
</pre></table></code></div></div><ul><li>对一部分元素赋值，未赋值的自动初始为0<li>想使数组元素全部为零，可以直接int a[10] = {0};</ul><h2 id="定义和引用二维数组">定义和引用二维数组</h2><p><strong>定义二维数组：</strong>类型说明符 数组名【常量表达式】【常量表达式】</p><ul><li>二维数组排列的顺序是按行存放的</ul><p><strong>引用二维数组：</strong>数组名【下标】【下标】</p><p><strong>二维数组的初始化：</strong></p><ul><li>分别给二维数组赋值，一个花括号对应一行</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">}</span> <span class="p">};</span>
</pre></table></code></div></div><ul><li>可以将所以数据写到一个花括号中，按照内存顺序进行赋值<li>可以对部分元素赋值<li>对全部元素赋值，第一维长度可以不指定，第二维长度不能省</ul><h2 id="字符数组">字符数组</h2><p>C语言中没有字符串类型，字符串是存放在字符型数组中的</p><p><strong>定义字符数组：</strong>char a[10];</p><p><strong>字符数组初始化：</strong></p><p><strong>引用元素：</strong>for循环遍历</p><p><strong>字符串和字符串结束标志：</strong></p><ul><li>实际工作中，更关心的是字符串的有效长度而不是字符数组的长度<li>C语言个UI订乐一个字符串结束标志，以<code class="language-plaintext highlighter-rouge">\0</code>作为结束标志<li>C语言在字符数组存储字符常量时自动加一个\0作结束符<li>通过<code class="language-plaintext highlighter-rouge">\0</code>放在不同位置，可以控制字符串的输出</ul><p><strong>字符数组的输入输出：</strong></p><ul><li>逐个字符输入输出，用<code class="language-plaintext highlighter-rouge">%c</code><li>将整个字符串一次输入输出，用<code class="language-plaintext highlighter-rouge">%s</code><li>如果数组长度大于字符串的实际长度，遇到\0结束输出<li>可以用<code class="language-plaintext highlighter-rouge">scanf</code>输入一个字符串,<strong>数组名</strong>代表该数组的起始位置，不用加&amp;，但是<strong>数组元素</strong>需要加&amp;，如&amp;a[i]</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span><span class="n">c</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>字符串处理函数：</strong></p><ul><li>输出字符串函数<code class="language-plaintext highlighter-rouge">puts(字符数组)</code><li>输入字符串函数<code class="language-plaintext highlighter-rouge">gets(字符数组)</code><li>字符串连接函数<code class="language-plaintext highlighter-rouge">strcat(字符数组1，字符数组2)</code>，将2接到1的后面<li>字符串复制函数<code class="language-plaintext highlighter-rouge">strcpy(字符数组1，字符串2)</code>，将字符串2复制到字符数组1中，字符数组1 必须是数组，2可以是字符串也可以是字符数组，<code class="language-plaintext highlighter-rouge">strncpy</code>可以将字符串2中的前面n个字符复制到字符数组1中<li>字符串比较函数<code class="language-plaintext highlighter-rouge">strcmp(字符串1，字符串2)</code>,以第一对不相同的字符的比较结果为准，如果是两个因为字母比较，在英文字典中位置靠后的比较大，小写字母大于大写字母。字符串1=2，返回0；1&gt;2,返回正整数&gt;0；1&lt;2，返回负整数&lt;0<li>测试字符串长度的函数<code class="language-plaintext highlighter-rouge">strlen(字符数组)</code>，不包括\0<li>转换为小写的函数<code class="language-plaintext highlighter-rouge">strlwr(字符串)</code><li>转换为大写的函数<code class="language-plaintext highlighter-rouge">strupr(字符串)</code></ul><h1 id="chapter7-函数">Chapter7 函数</h1><p>每个函数用来实现特定的功能，方便调用，函数不能嵌套定义，但是可以互相调用</p><h2 id="定义函数">定义函数</h2><p>包含函数的名字，函数的类型（即返回值的类型），函数参数德玛名字和类型以及函数的功能</p><p><strong>无参函数：</strong></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="err">类型名</span> <span class="err">函数名（）</span>
<span class="p">{</span>
	<span class="err">函数体</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>有参函数：</strong></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="err">类型名</span> <span class="err">函数名（形式参数表列）</span>
<span class="p">{</span>
	<span class="err">函数体</span>
<span class="p">}</span>
</pre></table></code></div></div><p><strong>空函数:</strong>函数体是空的，没有任何实际作用，可以在准备扩充功能的地方使用</p><h2 id="调用函数">调用函数</h2><ul><li><p>函数名（实参表列）：括号不能省略，参数之间逗号间隔</p><li>实际参数可以使常量、变量和表达式，但是要有确定的值<li>实参与形参的类型应该相同或赋值兼容<li>返回值的类型要和函数类型一致，以函数类型为准<li>只能由实参传给形参，单向传递<li>调用的函数必须是已经定义的函数，调用前使用函数声明<li>函数不能嵌套定义，但是可以嵌套调用<li>直接或者间接的调用函数本身，称为递归调用<li>数组元素的作用和变量相当，一般来说，凡是变量出现的地方，都可以用数组元素代替，数组元素只能作为函数实参<li>数组名可以作为实参和形参，传递的是数组第一个元素的<strong>地址</strong><li>用数组名作为函数参数，应该在主调函数和被调用函数分别定义数组<li>形参数组可以不指定大小，跟一个【】<li>在函数内部或者复合语句内部定义的变量称为<strong>局部变量</strong>，哪里定义哪里使用<li>在函数外部定义的变量为<strong>全局变量</strong>，在本文件内都可以使用，第一个字母大写<li>如果变量同名，在局部变量的作用范围内，全局变量被屏蔽不起作用<li><code class="language-plaintext highlighter-rouge">static</code>全局变量，只能在本文件中被引用<li><code class="language-plaintext highlighter-rouge">extern</code>全局变量，可以在不同文件中引用<li>内部函数与外部函数与上面全局变量意义一样</ul><h1 id="chapter8-指针">Chapter8 指针</h1><p>这部分内容复杂琐碎，后面会多看几遍，就先不总结了</p><h1 id="chapter9--建立数据类型">Chapter9 建立数据类型</h1><h2 id="结构体变量">结构体变量</h2><p><strong>结构体：</strong>由不同数据类型组成的组合型数据结构，数组智能存放同类型数据</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">struct</span> <span class="err">结构体名</span>
<span class="p">{</span>
	<span class="err">成员表列</span>
<span class="p">}</span><span class="err">；</span>
</pre></table></code></div></div><ul><li>成员表列也称为域表，成员命名规则与变量名相同<li>成员可以属于另一个结构体类型</ul><p><strong>定义结构体类型变量：</strong></p><ul><li>先声明结构体类型，再定义该类型的变量，大程序用的多，随时指定<li>在声明类型的同时定义变量，小程序使用较为方便<li>不指定类型名而直接定义结构体类型变量，不常用</ul><p>结构体类型的成员名可以与程序中的变量名相同，但二者不代表同一对象</p><p>对于结构体变量中的成员可以单独使用，作用相当于普通变量</p><p><strong>结构体变量的初始化和引用：</strong></p><ul><li>在定义结构体变量时可以对它的成员初始化</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">struct</span> <span class="n">Student</span> <span class="n">b</span> <span class="o">=</span> <span class="p">{.</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Zhou ShenShen"</span><span class="p">}</span>
</pre></table></code></div></div><ul><li>可以引用结构体变量中成员的值，.是成员运算符，在所有运算符中优先级最高</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="err">结构体变量名</span><span class="p">.</span><span class="err">成员名</span>
</pre></table></code></div></div><ul><li>只能对最低级的成员进行赋值或存取以及运算，需要一级一级的找到最低级成员<li>对结构体的成员可以像普通变量一样进行各种运算<li>同类型的结构体变量可以相互赋值<li>可以尹艳红结构体变量成员的地址，也可以引用结构体变量的地址</ul><h2 id="结构体数组">结构体数组</h2><p><strong>定义结构体数组：</strong></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">struct</span> <span class="err">结构体名</span>
<span class="p">{</span>
	<span class="err">成员表列</span>
<span class="p">}</span><span class="err">数组名【数组长度】</span><span class="p">;</span>
</pre></table></code></div></div><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="err">声明一个结构体类型</span>
<span class="err">结构体类型</span> <span class="err">数组名【数组长度】</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="结构体指针">结构体指针</h2><p><strong>结构体指针：</strong>指向结构体变量的指针，一个结构体变量的起始位置就是这个结构体变量的指针</p><ul><li>指向结构体变量的指针，stu.num = (*p),num = p-&gt;num<li>指向结构体数组的指针，指针类型和结构体变量基类型必须相同<li>用结构体变量和结构体变量的指针做函数参数</ul><h2 id="链表">链表</h2><p><strong>链表：</strong>动态的进行存储分配的一种数据结构</p><p>链表有头指针、结点、表尾，必须依靠指针变量才能实现，一个节点中包含一个指针变量，用它存放下一个结点的位置</p><h2 id="共用体类型">共用体类型</h2><p><strong>共用体类型：</strong>几个不同的变量共享同一段内存的结构</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">union</span> <span class="err">共用体名</span>
<span class="p">{</span>
	<span class="err">成员表列</span>
<span class="p">}</span><span class="err">变量表列；</span>
</pre></table></code></div></div><ul><li>共同体变量所占的内存长度等于最长的成员的长度<li>不能引用共用体变量，只能引用共用体变量的成员<li>一个内存段可以用来存放几种不同类型的成员，但是一瞬时只能存放其中的一个，而不同同时存放几个<li>可以对共用体变量初始化，但是初始化表只能有一个变量<li>共用题变量起作用的是最后一次被赋值的成员<li>共同体变量和它的各成员的地址都是同一地址<li>不能引用或者对共用体变量幅值<li>共用体类型可以出现在结构体类型定义中，亦可以定义共用体数组</ul><h2 id="枚举类型">枚举类型</h2><p><strong>枚举类型：</strong>一个变量只有集中可能地值</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">enum</span> <span class="p">[</span><span class="err">枚举名</span><span class="p">]{</span><span class="err">枚举元素列表</span><span class="p">}</span><span class="err">；</span>
</pre></table></code></div></div><ul><li>枚举元素为常量，不可赋值<li>每一个枚举元素都代表一个整数，从0,1,2,3，…<li>枚举元素可以用来作判断比较</ul><h2 id="typedef声明新类型名">typedef声明新类型名</h2><ul><li>先按定义变量的方法写出定义体（如int i;）<li>将变量名换成新类型名（将i换成Count）<li>在最前面加上<code class="language-plaintext highlighter-rouge">typedef</code>（typedef int Count）<li>然后可以用新类型名去定义变量</ul><h1 id="chapter10-文件操作">Chapter10 文件操作</h1><h2 id="c文件">C文件</h2><p><strong>程序文件：</strong>源程序文件.c 目标文件.obj 可执行文件.exe</p><p><strong>数据文件：</strong>文本文件（ASCII文件）和二进制文件</p><ul><li>文本文件：字节和字符一一对应，一个字节代表一个字符，便于对字符进行逐个处理，也便于输出字符，但一般占存储空间多，而且花费转换时间<li>二进制文件：可以节省外存空间和转换时间，每一个字节不一定代表一个字符，在读写过程中常用二进制文件，无需转换</ul><p><strong>文件名：</strong>包络文件路径 文件名主干 文件后缀</p><p><code class="language-plaintext highlighter-rouge">D:\CC\temp\file1.dat</code></p><p><strong>文件缓冲区：</strong>系统自动地在内存区为程序中每一个正在使用的文件开辟一个文件缓存区</p><p><strong>文件类型指针：</strong>每个被使用的文件都在内存中开辟了一个相应的文件信息区，用来存放文件相关的信息（文件名、文件状态和文件当前位置等）。这些信息保存在一个<strong><em>结构体变量</em></strong>中，该结构体变量由系统声明的，取名为<code class="language-plaintext highlighter-rouge"> FILE </code></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kt">FILE</span> <span class="o">*</span><span class="n">fp</span><span class="p">;</span>
</pre></table></code></div></div><p>定义fp是一个指向FILE类型数据的指针变量，通过文件指针变量fp能够找到与它相关联的文件，n个文件应设n个指针用来实现对n个文件的访问</p><h2 id="打开和关闭文件">打开和关闭文件</h2><p><strong>打开文件：</strong>是指为文件建立相应的信息区和文件缓冲区</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">fopen</span><span class="p">(</span><span class="err">文件名，使用文件方式</span><span class="p">)</span><span class="err">；</span>
<span class="n">fopen</span><span class="p">(</span><span class="s">"file.dat"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>关闭文件：</strong>是指撤销文件信息区和文件缓冲区，使文件指针变量不再指向改文件</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">fclose</span><span class="p">(</span><span class="err">文件指针</span><span class="p">)</span><span class="err">；</span>
<span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>文件检查：</strong>文件打开时进行文件检查，如果不存在文件或者其它则报错</p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">if</span><span class="p">((</span><span class="n">fp</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"file1.dat"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">))</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"can not open the file</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="c1">//程序中止函数 在stdlib.h头函数中</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="顺序读写数据文件">顺序读写数据文件</h2><p><strong>向文件读写字符：</strong></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">fgetc</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>  <span class="err">从</span><span class="n">fp</span><span class="err">指向的文件中读入一个字符</span>
<span class="n">fputc</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span><span class="n">fp</span><span class="p">);</span>  <span class="err">把字符</span><span class="n">ch</span><span class="err">写到</span><span class="n">fp</span><span class="err">所指向的文件中</span>
</pre></table></code></div></div><ul><li><strong><code class="language-plaintext highlighter-rouge">feof(fp)</code>：</strong>可以检查到文件读写位置标记是否移到文件的末尾，即文件是否结束</ul><p><strong>向文件读写字符串：</strong></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">fgets</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">fp</span><span class="p">);</span>
<span class="c1">//从fp文件中读入一个长度为n-1的字符串,存到字符数组str中</span>
<span class="n">fputs</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span><span class="c1">//把str所指向的字符串写到fp指向的文件中</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">fgets fputs</code>以指定的文件为读写对象<li><code class="language-plaintext highlighter-rouge">gets puts</code>以终端为读写对象</ul><p><strong>格式化读写文件：</strong></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="n">fprintf</span><span class="p">(</span><span class="err">文件指针，格式化字符串，输出表列</span><span class="p">)</span><span class="err">；</span>
<span class="n">fprintf</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s">"%d,%6.2f"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">f</span><span class="p">);</span>
<span class="n">fscanf</span><span class="p">(</span><span class="err">文件指针，格式化字符串，输出表列</span><span class="p">)</span><span class="err">；</span>
<span class="n">fscanf</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="s">"%d,%f"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">f</span><span class="p">);</span>
</pre></table></code></div></div><p><strong>二进制方式读写一组数据：</strong></p><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="n">fread</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="n">size</span><span class="p">,</span><span class="n">count</span><span class="p">,</span><span class="n">fp</span><span class="p">);</span>
<span class="n">fwrite</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span><span class="n">size</span><span class="p">,</span><span class="n">count</span><span class="p">,</span><span class="n">fp</span><span class="p">);</span>
<span class="c1">//buffer：是一个地址，比如数组首位置</span>
<span class="c1">//size：要读写的字节数</span>
<span class="c1">//count：要读多少个数据项（每个数据项长度为size）</span>
<span class="c1">//fp：FILE类型指正</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">fread</span><span class="p">(</span><span class="o">&amp;</span><span class="n">stud</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">Student_type</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="n">fp</span><span class="p">);</span>
    <span class="c1">//每次读入结构体数组stu的一个元素</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="随机读写数据文件">随机读写数据文件</h2><p><strong>文件位置标记：</strong>系统为每个文件设置了一个文件读写位置标记，用来指示接下来要读写的下一个位置</p><p><strong>文件位置标记的定位：</strong></p><ul><li><code class="language-plaintext highlighter-rouge">rewind(fp)</code>函数使文件位置标记指向开头<li><code class="language-plaintext highlighter-rouge">fseek</code>函数改变文件位置标记</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="n">fseek</span><span class="p">(</span><span class="err">文件类型指针，位移量，起始点</span><span class="p">)</span><span class="err">；</span>
<span class="c1">//起始点用0、1、2代替，分别表示文件开始位置、当前位置、文件末尾位置</span>
<span class="c1">//位移量以起始点为基点，向前移动的字节数，位移量应是long型数据</span>
<span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="mi">100L</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="c1">//将文件位置标记向前移到离文件开头100个字节处</span>
<span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="mi">50L</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="c1">//将文件位置标记向前移到离当前位置50个字节处</span>
<span class="n">fseek</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="o">-</span><span class="mi">10L</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span><span class="c1">//将文件位置标记从文件末尾处向后退10个字节</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">ftell</code>函数测定文件位置标记的当前位置</ul><div class="language-c highlighter-rouge"><div class="code-header"> <span text-data=" C "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">i</span> <span class="o">=</span> <span class="n">ftell</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span><span class="c1">//变量i存放文件当前位置</span>
</pre></table></code></div></div><h2 id="文件读写的出错检测">文件读写的出错检测</h2><ul><li><p><code class="language-plaintext highlighter-rouge">ferror(fp)</code>函数：返回值为0表示未出错</p><li><p><code class="language-plaintext highlighter-rouge">clearerr(fp)</code>函数：使文件错误标志和文件结束标志置为0，假设在调用一个输入输出函数时出现错误，ferror函数值为一个非零值，应该立即调用clearerr函数使其置零，以便进行下一次检测</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%E7%AC%94%E8%AE%B0/'>笔记</a>, <a href='/categories/c/'>C</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%E7%AC%94%E8%AE%B0/" class="post-tag no-text-decoration" >笔记</a> <a href="/tags/c/" class="post-tag no-text-decoration" >C</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=C语言谭浩强笔记 - ShenshenZhou&url=https://shenshenzhou.github.io/posts/C-tanhaoqiang/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=C语言谭浩强笔记 - ShenshenZhou&u=https://shenshenzhou.github.io/posts/C-tanhaoqiang/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=C语言谭浩强笔记 - ShenshenZhou&url=https://shenshenzhou.github.io/posts/C-tanhaoqiang/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>最近更新</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/webserver-webbench/">Webserver压力测试</a><li><a href="/posts/Sort/">C++实现十大排序算法</a><li><a href="/posts/Redis-knowledge/">Redis相关知识整理</a><li><a href="/posts/MySQL-knowledge/">MySQL相关知识整理</a><li><a href="/posts/leetcode200/">LeetCode200题记录</a></ul></div><div id="access-tags"> <span>热门标签</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a> <a class="post-tag" href="/tags/%E6%80%BB%E7%BB%93/">总结</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/c-primer5/">C++Primer5</a> <a class="post-tag" href="/tags/%E7%AE%97%E6%B3%95/">算法</a> <a class="post-tag" href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/">蓝桥杯</a> <a class="post-tag" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a> <a class="post-tag" href="/tags/%E5%85%AB%E8%82%A1/">八股</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/%E7%BD%91%E9%A1%B5%E8%B5%84%E6%96%99/">网页资料</a></div></div></div><script src="https://fastly.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">文章内容</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/C-wengkai/"><div class="card-body"> <span class="timeago small" >2021-11-16<i class="unloaded">2021-11-16T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C语言翁凯笔记</h3><div class="text-muted small"><p> 笔记记在本子上了，不是很多，这里做一下总结吧。 总结 前前后后大概花了有两个多周的时间把翁凯的c程序设计入门课程看完了，学习到了很多的东西，算是重新学习了一下c语言，毕竟本科学的不行，并且已经过去了好几年。 翁凯老师讲的很好，深入浅出，从中学习到了一些编程的基础知识，通过对例题的程序编写提高了自己的写代码能力，算是刚刚入门吧，虽然之前学习了python，但是通过这个课程系统的学习，发现...</p></div></div></a></div><div class="card"> <a href="/posts/C++Primer1/"><div class="card-body"> <span class="timeago small" >2021-12-07<i class="unloaded">2021-12-07T23:14:26+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C++Primer5 第1章 开始</h3><div class="text-muted small"><p> 说明：第一章介绍C++的大部分基础内容，看完后可以编写运行一个简单的程序，所以这部分笔记主要记述一些重要的点(note部分)。 类型： 一种类型不仅定义了数据的内容，还定义了这类数据上可以进行的运算。 编译器： 编译器没有能力检查一个程序是否按照你的意愿运行，但可以检查形式上的错误，比如syntax error、type error、declaration error。...</p></div></div></a></div><div class="card"> <a href="/posts/C++Primer2/"><div class="card-body"> <span class="timeago small" >2021-12-12<i class="unloaded">2021-12-12T15:14:26+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>C++Primer5 第2章 变量和基本类型</h3><div class="text-muted small"><p> 说明：本章主要介绍基本内置数据类型。 基本内置类型 算数类型：整型、浮点型、字符型、布尔 空类型：void 算数类型 1、算数类型的大小在不同机器上有所差别，C++规定了最小值。 char：8位，C++32、64位机器均为1个字节。 int：16位，C++32、64位机器均为4个字节。 long long ：64位，C++32、64位机器均为8个字节。 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/C-wengkai/" class="btn btn-outline-primary" prompt="上一篇"><p>C语言翁凯笔记</p></a> <a href="/posts/APMCM-conclusion/" class="btn btn-outline-primary" prompt="下一篇"><p>亚太数学建模比赛总结</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/ShenshenZhou">ShenshenZhou</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">热门标签</h4><a class="post-tag" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a> <a class="post-tag" href="/tags/%E6%80%BB%E7%BB%93/">总结</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/c-primer5/">C++Primer5</a> <a class="post-tag" href="/tags/%E7%AE%97%E6%B3%95/">算法</a> <a class="post-tag" href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/">蓝桥杯</a> <a class="post-tag" href="/tags/%E9%A2%98%E8%A7%A3/">题解</a> <a class="post-tag" href="/tags/%E5%85%AB%E8%82%A1/">八股</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/%E7%BD%91%E9%A1%B5%E8%B5%84%E6%96%99/">网页资料</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://fastly.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://fastly.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://fastly.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
